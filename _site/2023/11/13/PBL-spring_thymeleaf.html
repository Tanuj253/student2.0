<article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">UX-BE, Spring/Thymeleaf</h1><p class="page-description">Tour frontend server side capabilities using the Java Spring Thymeleaf framework. The Spring template engine is Thymeleaf and like all template engines it is used to process and create HTML on server side and for an HTML page.</p><p class="post-meta post-meta-title"><time class="dt-published" datetime="2023-11-13T00:00:00-08:00" itemprop="datePublished">
        Nov 13, 2023
      </time>
       • <span class="read-time" title="Estimated read time">
    
    
      5 min read
    
</span></p>

    

    </header>

  <div class="post-content e-content" itemprop="articleBody"><ul><li><a href="#tour-of-frontend">Tour of Frontend</a><ul><li><a href="#html-page-indexhtml">HTML page (index.html)</a></li><li><a href="#layouts-folder">Layouts Folder</a></li><li><a href="#resources-overview"><a href="images/resources.png">Resources</a> Overview</a></li></ul></li></ul><h2 id="tour-of-frontend">Tour of Frontend</h2>

<div>
    <div>
        <div style="float: right; margin: 0px 10px 10px 0px;">
            <a href="https://github.com/nighthawkcoders/spring_portfolio">
                <img atl="Frontend Files" src="/student2.0/images/frontend.png" title="VS Code frontend files" width="250" />
            </a>
        </div>
        <div>
            <hr />
            <p>
            This visual shows files for a Java Spring Boot Web Application project.  The frontend of the project contains HTML files that are infused with Thymeleaf.  Each frontend file has a backend has a Controller that loads the HTML template.  In this illustration Greet.java loads greet.html, Birds.java loads birds.html, index.html is using default/non-visible Controller to load its page.  This article will discuss the HTML files, the backend will discuss the Java files
        
            Read more or review files in the <a href="https://docs.spring.io/spring-boot/docs/current/reference/html/">Spring Boot Reference Documentation</a>
            </p>
            <hr />
        </div>
    </div>
</div>

<h3 id="html-page-indexhtml">HTML page (index.html)</h3>

<p>The index.html file is infused with page specific fragments via Thymeleaf, it uses layouts/base.html as the template.  Thus, files in this project are NOT pure HTML.  The Thymeleaf pre-processor runs across all HTML files in this project, taking fragments and base to form pure HTML prior to files being sent to the Web Browser.  Review comments in source code for understanding …</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">&lt;!-- This page is illustrative and contains ideas about HTML formatting --&gt;</span>
<span class="cp">&lt;!DOCTYPE HTML&gt;</span>
<span class="c">&lt;!-- Signals HTML to understand Thymeleaf Layout Dialect --&gt;</span>
<span class="nt">&lt;html</span> <span class="na">xmlns:layout=</span><span class="s">"http://www.w3.org/1999/xhtml"</span> <span class="na">xmlns:th=</span><span class="s">"http://www.w3.org/1999/xhtml"</span>
      <span class="na">layout:decorate=</span><span class="s">"~{layouts/base}"</span> <span class="na">lang=</span><span class="s">"en"</span><span class="nt">&gt;</span>

<span class="nt">&lt;head&gt;</span>
<span class="c">&lt;!-- Thymeleaf inserts below th:block into the &lt;head&gt; from layout/base.html --&gt;</span>
<span class="nt">&lt;th:block</span> <span class="na">layout:fragment=</span><span class="s">"head"</span> <span class="na">th:remove=</span><span class="s">"tag"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;title&gt;</span>Intro<span class="nt">&lt;/title&gt;</span>
<span class="nt">&lt;/th:block&gt;</span>
<span class="nt">&lt;/head&gt;</span>

<span class="nt">&lt;body&gt;</span>
<span class="c">&lt;!-- Thymeleaf inserts below into the &lt;body&gt; from layout/base.html --&gt;</span>
<span class="nt">&lt;th:block</span> <span class="na">layout:fragment=</span><span class="s">"body"</span> <span class="na">th:remove=</span><span class="s">"tag"</span><span class="nt">&gt;</span>
    <span class="c">&lt;!-- Start of body content specific to page --&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"px-5 py-5 mx-auto"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;h1&gt;&lt;strong&gt;</span>Java Home Page<span class="nt">&lt;/strong&gt;&lt;/h1&gt;</span> 
        <span class="c">&lt;!-- This page uses BootStrap defined in layout/base.html --&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"row"</span><span class="nt">&gt;</span>  <span class="c">&lt;!-- each row has 12 logical positions --&gt;</span>
            <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"col-4"</span><span class="nt">&gt;</span>  <span class="c">&lt;!-- each card is grated 4 positions, 3 cards to a row --&gt;</span>
                <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"card"</span><span class="nt">&gt;</span>
                    <span class="nt">&lt;img</span> <span class="na">class=</span><span class="s">"card-img-top"</span> <span class="na">th:src=</span><span class="s">"@{/images/java.png}"</span> <span class="na">alt=</span><span class="s">"Java Development"</span> <span class="na">height=</span><span class="s">"250"</span><span class="nt">&gt;</span>
                    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"card-body"</span><span class="nt">&gt;</span>
                    <span class="nt">&lt;h5</span> <span class="na">class=</span><span class="s">"card-title"</span><span class="nt">&gt;</span>What should Java Developers learn?<span class="nt">&lt;/h5&gt;</span>
                    <span class="nt">&lt;p</span> <span class="na">class=</span><span class="s">"card-text"</span><span class="nt">&gt;</span>
                        <span class="nt">&lt;ol&gt;</span>
                            <span class="nt">&lt;li&gt;</span>Java 11-17 is used for PBL. Java 8 appears to be College Board standard.  Java features like Reactive Streams, HTTP2 client, JShell, React JS are more recent than 8.<span class="nt">&lt;/li&gt;</span>
                            <span class="nt">&lt;li&gt;</span>GitHub.  Learning to master managing change, branches, pull requests, and more.<span class="nt">&lt;/li&gt;</span>
                            <span class="nt">&lt;li&gt;</span>Development DevOps. Java programmers should have a passion for managing the environment and learning automation (Git, Maven, Docker).<span class="nt">&lt;/li&gt;</span>
                            <span class="nt">&lt;li&gt;</span>REST and Microservice using Spring.  Mastering creating and consuming RESTful APIs<span class="nt">&lt;/li&gt;</span>
                        <span class="nt">&lt;/ol&gt;</span>
                    <span class="nt">&lt;/p&gt;</span>
                    <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"#"</span> <span class="na">class=</span><span class="s">"btn btn-primary"</span><span class="nt">&gt;</span>Go somewhere<span class="nt">&lt;/a&gt;</span>
                    <span class="nt">&lt;/div&gt;</span>
                <span class="nt">&lt;/div&gt;</span>
            <span class="nt">&lt;/div&gt;</span>
            <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"col-4"</span><span class="nt">&gt;</span>
                <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"card"</span><span class="nt">&gt;</span>
                    <span class="nt">&lt;img</span> <span class="na">class=</span><span class="s">"card-img-top"</span> <span class="na">th:src=</span><span class="s">"@{/images/spring.png}"</span> <span class="na">alt=</span><span class="s">"Spring Development"</span> <span class="na">height=</span><span class="s">"250"</span><span class="nt">&gt;</span>
                    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"card-body"</span><span class="nt">&gt;</span>
                    <span class="nt">&lt;h5</span> <span class="na">class=</span><span class="s">"card-title"</span><span class="nt">&gt;</span>What is Spring?<span class="nt">&lt;/h5&gt;</span>
                    <span class="nt">&lt;p</span> <span class="na">class=</span><span class="s">"card-text"</span><span class="nt">&gt;</span>
                        <span class="nt">&lt;ol&gt;</span>
                            <span class="nt">&lt;li&gt;</span>Spring Framework is the most popular application development framework of Java. <span class="nt">&lt;/li&gt;</span>
                            <span class="nt">&lt;li&gt;</span>Spring Boot helps to create a stand-alone application with less configuration.<span class="nt">&lt;/li&gt;</span>
                            <span class="nt">&lt;li&gt;</span>Spring MVC is a model view controller-based web framework under the Spring framework.<span class="nt">&lt;/li&gt;</span>
                            <span class="nt">&lt;li&gt;</span>ThymeLeaf is a server-side Java template engine, supports HTML5 JVM web development, and provides full integration with Spring Framework.<span class="nt">&lt;/li&gt;</span>
                        <span class="nt">&lt;/ol&gt;</span>
                    <span class="nt">&lt;/p&gt;</span>
                    <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"#"</span> <span class="na">class=</span><span class="s">"btn btn-primary"</span><span class="nt">&gt;</span>Go somewhere<span class="nt">&lt;/a&gt;</span>
                    <span class="nt">&lt;/div&gt;</span>
                <span class="nt">&lt;/div&gt;</span>
            <span class="nt">&lt;/div&gt;</span>
            <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"col-4"</span><span class="nt">&gt;</span>
                <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"card"</span><span class="nt">&gt;</span>
                    <span class="nt">&lt;img</span> <span class="na">class=</span><span class="s">"card-img-top"</span> <span class="na">th:src=</span><span class="s">"@{/images/pojo.jpeg}"</span> <span class="na">alt=</span><span class="s">"Java Persistence"</span> <span class="na">height=</span><span class="s">"250"</span><span class="nt">&gt;</span>
                    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"card-body"</span><span class="nt">&gt;</span>
                    <span class="nt">&lt;h5</span> <span class="na">class=</span><span class="s">"card-title"</span><span class="nt">&gt;</span>How do you create Persistent data?<span class="nt">&lt;/h5&gt;</span>
                    <span class="nt">&lt;p</span> <span class="na">class=</span><span class="s">"card-text"</span><span class="nt">&gt;</span>
                        <span class="nt">&lt;ol&gt;</span>
                            <span class="nt">&lt;li&gt;</span>Java Persistent API (JPA) provides a query language that allows create, read, update, and delete objects from a database.<span class="nt">&lt;/li&gt;</span>
                            <span class="nt">&lt;li&gt;</span>Beans, Controller Code, and Business logic interact with the JPA to manage data in and out of the Database.<span class="nt">&lt;/li&gt;</span>
                            <span class="nt">&lt;li&gt;</span>An Object-Relational Model (ORM) mapping Java classes (entities + supporting structures) with a relational database<span class="nt">&lt;/li&gt;</span>
                            <span class="nt">&lt;li&gt;</span>Plain Old Java Objects (POJO) are the Class definitions that are foundations for JPA and ORM, see the @entity declaration over the Class definition.<span class="nt">&lt;/li&gt;</span>
                        <span class="nt">&lt;/ol&gt;</span>
                    <span class="nt">&lt;/p&gt;</span>
                    <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"#"</span> <span class="na">class=</span><span class="s">"btn btn-primary"</span><span class="nt">&gt;</span>Go somewhere<span class="nt">&lt;/a&gt;</span>
                    <span class="nt">&lt;/div&gt;</span>
                <span class="nt">&lt;/div&gt;</span>
            <span class="nt">&lt;/div&gt;</span>
            
        <span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
    <span class="c">&lt;!-- End of body content specific to page --&gt;</span>
<span class="nt">&lt;/th:block&gt;</span>
<span class="nt">&lt;/body&gt;</span>

<span class="nt">&lt;/html&gt;</span>
</code></pre></div></div>

<h3 id="layouts-folder">Layouts Folder</h3>

<p>This folder contains a base.html and two fragments: footer.html and nav.html.  These files form the standards for each HTML page in this Web Application project.  The layouts/base.html is structural beginning file for index.html, greet.html, birds.html or any future file added to this project.  This connection is made at the top of each HTML template, layout:decorate=”~{layouts/base}”.</p>

<p>As you look at the contents of the layouts/base.html think of it as the structure and common contents that will be in every HTML file.  As you look back at the index.html, consider that it is starting with layouts/base.html and inserting its page specific fragments for the head and body.</p>

<p>Thymeleaf will put all these things together through a pre-process step.  In the end, every HTML pages that is given to the Web Browser has style and structure from layouts/base, but content from its own HTML head and body.</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">&lt;!-- This page is illustrative and contains ideas about HTML layouts --&gt;</span>
<span class="cp">&lt;!DOCTYPE HTML&gt;</span>
<span class="nt">&lt;html</span> <span class="na">xmlns:layout=</span><span class="s">"http://www.w3.org/1999/xhtml"</span> <span class="na">xmlns:th=</span><span class="s">"http://www.w3.org/1999/xhtml"</span> <span class="na">lang=</span><span class="s">"en"</span><span class="nt">&gt;</span>

<span class="nt">&lt;head&gt;</span>
    <span class="c">&lt;!-- Required meta tags --&gt;</span>
    <span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">"utf-8"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">"viewport"</span> <span class="na">content=</span><span class="s">"width=device-width, initial-scale=1, shrink-to-fit=no"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;meta</span> <span class="na">http-equiv=</span><span class="s">"Content-Type"</span> <span class="na">content=</span><span class="s">"text/html; charset=UTF-8"</span> <span class="nt">/&gt;</span>

    <span class="c">&lt;!-- JQuery CSS --&gt;</span>
    <span class="nt">&lt;script </span><span class="na">th:src=</span><span class="s">"@{https://code.jquery.com/jquery-3.3.1.slim.min.js}"</span> <span class="na">integrity=</span><span class="s">"sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"</span> <span class="na">crossorigin=</span><span class="s">"anonymous"</span><span class="nt">&gt;&lt;/script&gt;</span>
    <span class="c">&lt;!-- Bootstrap CSS --&gt;</span>
    <span class="nt">&lt;link</span> <span class="na">th:href=</span><span class="s">"@{https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css}"</span> <span class="na">rel=</span><span class="s">"stylesheet"</span> <span class="na">integrity=</span><span class="s">"sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"</span> <span class="na">crossorigin=</span><span class="s">"anonymous"</span><span class="nt">&gt;</span>

    <span class="c">&lt;!-- Project CSS --&gt;</span>
    <span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">"stylesheet"</span> <span class="na">type=</span><span class="s">"text/css"</span> <span class="na">th:href=</span><span class="s">"@{/scss/custom.css}"</span><span class="nt">&gt;</span>

    <span class="nt">&lt;th:block</span> <span class="na">layout:fragment=</span><span class="s">"head"</span> <span class="na">th:remove=</span><span class="s">"tag"</span><span class="nt">&gt;</span>Head details are added by ThymeLeaf layout consumer<span class="nt">&lt;/th:block&gt;</span>
<span class="nt">&lt;/head&gt;</span>

<span class="nt">&lt;body&gt;</span>
    <span class="nt">&lt;th:block</span> <span class="na">th:replace=</span><span class="s">"layouts/nav :: header"</span> <span class="na">th:remove=</span><span class="s">"tag"</span><span class="nt">&gt;</span>Standard header and Navigation<span class="nt">&lt;/th:block&gt;</span>

    <span class="nt">&lt;th:block</span> <span class="na">layout:fragment=</span><span class="s">"body"</span> <span class="na">th:remove=</span><span class="s">"tag"</span><span class="nt">&gt;</span>Body details are added by ThymeLeaf layout consumer<span class="nt">&lt;/th:block&gt;</span>

    <span class="nt">&lt;th:block</span> <span class="na">th:replace=</span><span class="s">"layouts/footer :: footer"</span> <span class="na">th:remove=</span><span class="s">"tag"</span><span class="nt">&gt;</span>Standard footer<span class="nt">&lt;/th:block&gt;</span>

    <span class="c">&lt;!-- Bootstrap 5.0 Bundle with Popper --&gt;</span>
    <span class="nt">&lt;script </span><span class="na">th:src=</span><span class="s">"@{https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js}"</span> <span class="na">integrity=</span><span class="s">"sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"</span> <span class="na">crossorigin=</span><span class="s">"anonymous"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;/body&gt;</span>

<span class="nt">&lt;th:block</span> <span class="na">layout:fragment=</span><span class="s">"script"</span> <span class="na">th:remove=</span><span class="s">"tag"</span><span class="nt">&gt;&lt;/th:block&gt;</span>

<span class="nt">&lt;/html&gt;</span>
</code></pre></div></div>

<h3 id="resources-overview"><a href="images/resources.png">Resources</a> Overview</h3>
<div>
    <div>
        <div style="float: right; margin: 0px 10px 10px 0px;">
            <a href="https://github.com/nighthawkcoders/spring_portfolio">
                <img atl="Frontend Files" src="/student2.0/images/resources.png" title="VS Code frontend files" width="250" />
            </a>
        </div>
        <div>
            <hr />
            <p>
            Resources are structure in standard directories for many reasons: familiarity amongst developer, tool defaults, deployment defaults, cache optimizations, etc.  Here are some of introductions:
            </p>
            <ul>
                <li> static/images - this is where a web server typically expects images that do not change after deployment.  Service in deployment will cache these files for quick loading over the internet.
                </li>
                <li> static/sccs - these are cached as well.  This location and the sccs name state this will work with node tools.  The standard is called Sassy and is the same as used in Python Flask projects.
                </li> 
                <li> templates/error - error pages can be placed here.  Can you guess were you would put a 500 error page.  
                </li> 
                <li> application.properties - this resource is used to define defaults for the application.  Most of these default are used by backed, for instance this will be used to define location of a database.  This is similar to __init__.py.
                </li>
            </ul>
            <hr />
        </div>
        
    </div>
</div>

  </div><a class="u-url" href="/student2.0/2023/11/13/PBL-spring_thymeleaf.html" hidden></a>
</article>
